pipeline {
   agent { label 'java-docker-slave'}

   stages {
      stage('Hello') {
         steps {
            echo 'Hello World'
         }
      }

     stage('pwd') {
         steps {
             sh 'pwd'
          }
      }

      stage('check volume') {
         steps {
             sh 'cat /home/jenkins/.m2/repository/data-test'
         }

      }

      stage('check sonarQube') {

         steps {
           withCredentials([string(credentialsId: 'sonarqube-token', variable: 'TOKEN')]) {
              echo '$TOKEN'
           }
         }

      }


      stage('mvn test') {
         steps {
            sh 'mvn clean test'
          }
      }


   }
}
